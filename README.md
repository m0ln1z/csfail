# Selenium Bot for Monitoring and Notifications

## Описание

Этот проект представляет собой бота на базе библиотеки `aiogram`, который использует Selenium для мониторинга и анализа значений с веб-страницы. Бот регулярно проверяет значение элемента на указанной странице и уведомляет в Telegram, если определенные условия выполняются (например, если значение повторяется несколько раз подряд).

Проект полезен для автоматического мониторинга и получения уведомлений о значениях, которые могут быть важными для бизнеса или других задач.

## Требования

- Python 3.10 или выше
- Установлены следующие библиотеки:
  - `aiogram`
  - `selenium`
  - `aiohttp`
  - `chromium` и `chromium-driver` (для Selenium)

## Основные компоненты

### 1. **Функции сохранения/загрузки состояния**
   - `load_state()` — загружает состояние из файла `state.json`.
   - `save_state()` — сохраняет состояние в файл `state.json`.

### 2. **Функции для получения значения с веб-страницы**
   - `fetchSpinValue()` — запускает headless-режим с помощью Selenium и получает значение с веб-страницы.

### 3. **Основная логика**
   - `checkConditionsAndNotify()` — проверяет условия (например, если значение повторяется) и отправляет уведомления в Telegram.
   - `checkConditionsAndNotifyLoop()` — запускает бесконечный цикл с периодическим вызовом функции проверки и отправки уведомлений.

### 4. **Отправка уведомлений**
   - `sendNotification()` — отправляет уведомление в Telegram через бота.

## Важные моменты

- Бот использует файл `state.json` для хранения текущего состояния (например, историю значений, последние отправленные уведомления).
- Веб-страница, с которой получает данные бот, указана в переменной `url`.
- Скрипт использует Selenium для получения значений с веб-страницы, что может быть медленно. Обратите внимание на настройки прокси и задержек в браузере.

## Логи

- Логи выводятся в консоль. Для отладки и мониторинга ошибок используется стандартный модуль `logging`.
- Логи сохраняются в файл `state.json`, который можно использовать для восстановления состояния бота после перезапуска.


